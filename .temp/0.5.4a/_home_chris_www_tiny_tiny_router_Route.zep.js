[ { "type": "comment", "value": "**\n * Tiny router\n *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 5, "char": 9 }, { "type": "namespace", "name": "Tiny\\Router", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 7, "char": 5 }, { "type": "class", "name": "Route", "abstract": 0, "final": 0, "definition": { "properties": [ { "visibility": [ "protected" ], "type": "property", "name": "name", "docblock": "**\n\t * @var string Route name\n\t *", "shortcuts": [ { "type": "shortcut", "name": "get", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 14, "char": 2 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 18, "char": 3 }, { "visibility": [ "protected" ], "type": "property", "name": "path", "docblock": "**\n\t * @var string Route path\n\t *", "shortcuts": [ { "type": "shortcut", "name": "get", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 21, "char": 2 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 25, "char": 3 }, { "visibility": [ "protected" ], "type": "property", "name": "regex", "docblock": "**\n\t * @var string\n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 30, "char": 3 }, { "visibility": [ "protected" ], "type": "property", "name": "tokens", "docblock": "**\n\t * @var string\n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 35, "char": 3 }, { "visibility": [ "protected" ], "type": "property", "name": "defaults", "default": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 36, "char": 26 }, "docblock": "**\n\t * @type {Array}\n\t *", "shortcuts": [ { "type": "shortcut", "name": "get", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 37, "char": 6 }, { "type": "shortcut", "name": "set", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 38, "char": 2 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 42, "char": 3 }, { "visibility": [ "protected" ], "type": "property", "name": "methods", "default": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 43, "char": 25 }, "docblock": "**\n\t * @type {Array}\n\t *", "shortcuts": [ { "type": "shortcut", "name": "get", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 44, "char": 6 }, { "type": "shortcut", "name": "set", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 45, "char": 2 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 49, "char": 3 }, { "visibility": [ "private" ], "type": "property", "name": "params", "default": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 50, "char": 21 }, "docblock": "**\n\t * @type {Array}\n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 55, "char": 3 } ], "methods": [ { "visibility": [ "public" ], "type": "method", "name": "__construct", "parameters": [ { "type": "parameter", "name": "name", "const": 0, "data-type": "string", "mandatory": 1, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 56, "char": 42 }, { "type": "parameter", "name": "path", "const": 0, "data-type": "string", "mandatory": 1, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 56, "char": 56 } ], "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "name", "expr": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 58, "char": 24 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 58, "char": 24 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 59, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "path", "expr": { "type": "variable", "value": "path", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 59, "char": 24 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 59, "char": 24 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 60, "char": 2 } ], "docblock": "**\n\t * @param  string name\n\t * @param  string path\t \n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 68, "char": 3 }, { "visibility": [ "public" ], "type": "method", "name": "match", "parameters": [ { "type": "parameter", "name": "uri", "const": 0, "data-type": "string", "mandatory": 1, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 69, "char": 35 }, { "type": "parameter", "name": "server", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "null", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 69, "char": 56 }, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 69, "char": 56 } ], "statements": [ { "type": "mcall", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 71, "char": 8 }, "name": "init", "call-type": 1, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 71, "char": 15 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 72, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "path", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 72, "char": 11 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "path", "expr": { "type": "fcall", "name": "parse_url", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "uri", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 27 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 27 }, { "parameter": { "type": "constant", "value": "PHP_URL_PATH", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 41 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 41 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 42 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 73, "char": 42 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 4 }, { "type": "if", "expr": { "type": "not", "left": { "type": "empty", "left": { "type": "list", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 18 }, "right": { "type": "variable", "value": "methods", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 26 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 26 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 28 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 28 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 74, "char": 28 }, "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "method", "expr": { "type": "string", "value": "get", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 75, "char": 22 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 75, "char": 22 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 5 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "variable", "value": "server", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 19 }, "right": { "type": "string", "value": "REQUEST_METHOD", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 36 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 37 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 39 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 76, "char": 39 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "method", "expr": { "type": "fcall", "name": "strtolower", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "server", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 35 }, "right": { "type": "string", "value": "REQUEST_METHOD", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 52 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 53 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 53 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 54 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 77, "char": 54 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 78, "char": 4 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 5 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not", "left": { "type": "fcall", "name": "in_array", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "method", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 24 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 24 }, { "parameter": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 31 }, "right": { "type": "variable", "value": "methods", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 39 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 39 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 39 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 79, "char": 42 }, "statements": [ { "type": "return", "expr": { "type": "bool", "value": "false", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 80, "char": 17 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 81, "char": 4 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 82, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 84, "char": 7 }, { "type": "declare", "data-type": "array", "variables": [ { "variable": "matches", "expr": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 84, "char": 21 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 84, "char": 21 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 85, "char": 8 }, { "type": "declare", "data-type": "string", "variables": [ { "variable": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 85, "char": 15 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "regex", "expr": { "type": "concat", "left": { "type": "concat", "left": { "type": "string", "value": "@^", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 20 }, "right": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 27 }, "right": { "type": "variable", "value": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 34 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 34 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 34 }, "right": { "type": "string", "value": "$@", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 86, "char": 40 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 4 }, { "type": "if", "expr": { "type": "list", "left": { "type": "fcall", "name": "preg_match", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 23 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 23 }, { "parameter": { "type": "variable", "value": "path", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 29 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 29 }, { "parameter": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 38 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 38 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 39 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 87, "char": 41 }, "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 88, "char": 13 }, { "variable": "match", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 88, "char": 20 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 89, "char": 6 }, { "type": "for", "expr": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 89, "char": 32 }, "key": "index", "value": "match", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "fcall", "name": "is_numeric", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 90, "char": 25 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 90, "char": 25 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 90, "char": 26 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 90, "char": 28 }, "statements": [ { "type": "unset", "expr": { "type": "list", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 91, "char": 19 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 91, "char": 25 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 91, "char": 26 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 91, "char": 27 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 92, "char": 5 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 93, "char": 4 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 9 }, { "type": "return", "expr": { "type": "new", "class": "RouteMatch", "dynamic": 0, "parameters": [ { "parameter": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 30 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 30 }, { "parameter": { "type": "fcall", "name": "array_merge", "call-type": 1, "parameters": [ { "parameter": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 49 }, "right": { "type": "variable", "value": "defaults", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 58 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 58 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 58 }, { "parameter": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 67 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 67 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 68 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 68 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 94, "char": 69 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 95, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 97, "char": 8 }, { "type": "return", "expr": { "type": "bool", "value": "false", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 97, "char": 15 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 98, "char": 2 } ], "docblock": "**\n\t * Match route\n\t * \n\t * @param string uri\n\t * @param array  server\n\t * @return bool|RouteMatch\n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 104, "char": 3 }, { "visibility": [ "public" ], "type": "method", "name": "replaceCallback", "parameters": [ { "type": "parameter", "name": "matches", "const": 0, "data-type": "array", "mandatory": 0, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 105, "char": 47 } ], "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "isset", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 18 }, "right": { "type": "variable", "value": "params", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 25 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 25 }, "right": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 33 }, "right": { "type": "int", "value": "2", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 35 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 36 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 37 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 38 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 38 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 107, "char": 40 }, "statements": [ { "type": "return", "expr": { "type": "concat", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 18 }, "right": { "type": "int", "value": "1", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 20 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 22 }, "right": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 29 }, "right": { "type": "variable", "value": "params", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 36 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 36 }, "right": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 44 }, "right": { "type": "int", "value": "2", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 46 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 47 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 48 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 108, "char": 48 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 109, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 110, "char": 8 }, { "type": "return", "expr": { "type": "string", "value": "", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 110, "char": 12 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 111, "char": 2 } ], "docblock": "**\n\t * [replaceCallback description]\n\t * @param  {[type]} array matches       [description]\n\t * @return {[type]}       [description]\n\t *", "return-type": { "type": "return-type", "list": [ { "type": "return-type-parameter", "data-type": "string", "mandatory": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 106, "char": 2 } ], "void": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 106, "char": 2 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 117, "char": 2 }, { "visibility": [ "public" ], "type": "method", "name": "assemble", "parameters": [ { "type": "parameter", "name": "params", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 118, "char": 44 }, "reference": 0, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 118, "char": 44 } ], "statements": [ { "type": "mcall", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 120, "char": 8 }, "name": "init", "call-type": 1, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 120, "char": 15 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 121, "char": 4 }, { "type": "if", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 121, "char": 11 }, "right": { "type": "variable", "value": "tokens", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 121, "char": 19 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 121, "char": 19 }, "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "token", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 122, "char": 13 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 123, "char": 6 }, { "type": "for", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 123, "char": 22 }, "right": { "type": "variable", "value": "tokens", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 123, "char": 30 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 123, "char": 30 }, "value": "token", "reverse": 0, "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 124, "char": 13 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 125, "char": 7 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "optional", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 125, "char": 17 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 126, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "name", "expr": { "type": "fcall", "name": "current", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "token", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 126, "char": 29 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 126, "char": 29 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 126, "char": 30 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 126, "char": 30 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 127, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "optional", "expr": { "type": "fcall", "name": "next", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "token", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 127, "char": 30 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 127, "char": 30 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 127, "char": 31 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 127, "char": 31 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 6 }, { "type": "if", "expr": { "type": "or", "left": { "type": "variable", "value": "optional", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 18 }, "right": { "type": "isset", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "variable", "value": "params", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 32 }, "right": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 37 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 38 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 129, "char": 40 }, "statements": [ { "type": "continue", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 131, "char": 5 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 9 }, { "type": "throw", "expr": { "type": "new", "class": "Exception\\MissingParameterException", "dynamic": 0, "parameters": [ { "parameter": { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 56 }, "name": "getName", "call-type": 1, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 66 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 66 }, { "parameter": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 72 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 72 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 133, "char": 73 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 134, "char": 4 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 135, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 136, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "params", "expr": { "type": "variable", "value": "params", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 136, "char": 28 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 136, "char": 28 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 8 }, { "type": "return", "expr": { "type": "fcall", "name": "preg_replace_callback", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "@{([^A-Za-z]*)([A-Za-z]+)[?]?(?::[^}]+)?}@", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 76 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 76 }, { "parameter": { "type": "array", "left": [ { "value": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 83 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 83 }, { "value": { "type": "string", "value": "replaceCallback", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 102 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 102 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 103 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 103 }, { "parameter": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 110 }, "right": { "type": "variable", "value": "path", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 115 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 115 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 115 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 137, "char": 116 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 138, "char": 2 } ], "docblock": "**\n\t* @param array params\n\t* @return string\n\t* @throws Exception\\MissingParameterException\n\t*", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 144, "char": 3 }, { "visibility": [ "protected" ], "type": "method", "name": "init", "statements": [ { "type": "if", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 147, "char": 11 }, "right": { "type": "variable", "value": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 147, "char": 18 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 147, "char": 18 }, "statements": [ { "type": "return", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 149, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 150, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "regex", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 150, "char": 26 }, "right": { "type": "variable", "value": "path", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 150, "char": 31 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 150, "char": 31 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 150, "char": 31 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 151, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "matches", "expr": { "type": "empty-array", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 151, "char": 19 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 151, "char": 19 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 152, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "fullString", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 152, "char": 17 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 153, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 153, "char": 11 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 154, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "optional", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 154, "char": 15 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 155, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "constraint", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 155, "char": 17 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 156, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "replace", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 156, "char": 14 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 157, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "count", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 157, "char": 12 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 5 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "count", "expr": { "type": "fcall", "name": "preg_match_all", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "@{([^A-Za-z]*([A-Za-z]+))([?]?)(?::([^}]+))?}@", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 78 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 78 }, { "parameter": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 85 }, "right": { "type": "variable", "value": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 91 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 91 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 91 }, { "parameter": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 100 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 100 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 101 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 159, "char": 101 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 160, "char": 4 }, { "type": "if", "expr": { "type": "variable", "value": "count", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 160, "char": 12 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "tokens", "expr": { "type": "new", "class": "\\SplFixedArray", "dynamic": 0, "parameters": [ { "parameter": { "type": "variable", "value": "count", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 161, "char": 47 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 161, "char": 47 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 161, "char": 48 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 161, "char": 48 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 162, "char": 6 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 162, "char": 13 }, { "variable": "token", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 162, "char": 20 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 163, "char": 6 }, { "type": "for", "expr": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 163, "char": 31 }, "right": { "type": "int", "value": "1", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 163, "char": 33 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 163, "char": 35 }, "key": "index", "value": "token", "reverse": 0, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "fullString", "expr": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 29 }, "right": { "type": "int", "value": "1", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 31 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 32 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 38 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 39 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 164, "char": 39 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "name", "expr": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 23 }, "right": { "type": "int", "value": "2", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 25 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 26 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 32 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 33 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 165, "char": 33 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "optional", "expr": { "type": "not", "left": { "type": "empty", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 34 }, "right": { "type": "int", "value": "3", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 36 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 37 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 43 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 44 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 45 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 45 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 45 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 166, "char": 45 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "constraint", "expr": { "type": "ternary", "left": { "type": "empty", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 35 }, "right": { "type": "int", "value": "4", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 37 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 38 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 44 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 45 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 47 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 47 }, "right": { "type": "string", "value": ".*", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 54 }, "extra": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 63 }, "right": { "type": "int", "value": "4", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 65 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 66 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 72 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 73 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 73 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 167, "char": 73 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 168, "char": 6 }, { "type": "if", "expr": { "type": "list", "left": { "type": "variable", "value": "optional", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 168, "char": 17 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 168, "char": 19 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "replace", "expr": { "type": "fcall", "name": "sprintf", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "(?:%s(?<%s>%s))?", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 47 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 47 }, { "parameter": { "type": "fcall", "name": "str_replace", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 65 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 65 }, { "parameter": { "type": "string", "value": "", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 69 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 69 }, { "parameter": { "type": "variable", "value": "fullString", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 81 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 81 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 82 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 82 }, { "parameter": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 88 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 88 }, { "parameter": { "type": "variable", "value": "constraint", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 100 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 100 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 101 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 169, "char": 101 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 170, "char": 5 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "replace", "expr": { "type": "fcall", "name": "sprintf", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "(?<%s>%s)", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 40 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 40 }, { "parameter": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 46 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 46 }, { "parameter": { "type": "variable", "value": "constraint", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 58 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 58 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 59 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 171, "char": 59 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 172, "char": 5 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "regex", "expr": { "type": "fcall", "name": "str_replace", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "matches", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 42 }, "right": { "type": "int", "value": "0", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 44 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 45 }, "right": { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 51 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 52 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 52 }, { "parameter": { "type": "variable", "value": "replace", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 61 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 61 }, { "parameter": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 68 }, "right": { "type": "variable", "value": "regex", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 74 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 74 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 74 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 75 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 173, "char": 75 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 7 }, { "type": "let", "assignments": [ { "assign-type": "object-property-array-index", "operator": "assign", "variable": "this", "property": "tokens", "index-expr": [ { "type": "variable", "value": "index", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 27 } ], "expr": { "type": "array", "left": [ { "value": { "type": "variable", "value": "name", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 36 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 36 }, { "value": { "type": "variable", "value": "optional", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 46 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 46 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 47 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 174, "char": 47 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 175, "char": 4 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 176, "char": 3 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 177, "char": 2 } ], "docblock": "**\n\t * Init the route for match\/assemble\n\t * \n\t * @return void\n\t *", "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 178, "char": 1 } ], "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 178, "char": 1 }, "file": "\/home\/chris\/www\/tiny\/tiny\/router\/Route.zep", "line": 178, "char": 1 } ]
